<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Tips</title>
    <url>/.github.io/2021/02/16/Tips/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>页面所有教程基于CentOS 8且有外网的情况下，CentOS 7用户操作类似，应该不会有什么出入，望悉之。后续可能会更新有关Redhat Linux Enterprise 有关操作及无外网的安装方式。敬请期待！<br>网站经常维护，您可以访问我的<a href="https://github.com/lonelyIslanders">GitHub</a><br>作者水平有限，若有错误勿怪，谢谢！<br>联系：<a href="mailto:nnqaqpengju@163.com">地址</a></p>
]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>简单的注册登录示例</title>
    <url>/.github.io/2021/02/11/%E7%AE%80%E5%8D%95%E7%9A%84%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E4%BE%8B%E5%AD%90/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前面的LAMP环境搭建完成后，接下来，展示如何写一个简单的注册登录的例子。<br>思路分析：<br>1.首先register.html作为注册页面，负责收录填写的注册信息。<br>2.register.php作为验证注册页面，负责验证用户注册信息是否符合要求。<br>3.login.html作为登录页面，用于填写用户登录的信息。<br>4.login.php作为验证登录页面，负责验证用户登录信息是否正确。<br>5.新建<code>users</code>数据库，其下<code>user_info</code>数据表用于存储用户信息。<br>6.由于这只是个简单的例子，注册成功或登录成功跳转的页面没有写防止URL直接访问，可以自己写个token、cookie、session验证即可。<br>7.废话不多说，开整。</p>
<a id="more"></a>
<h2 id="新建数据库、表"><a href="#新建数据库、表" class="headerlink" title="新建数据库、表"></a>新建数据库、表</h2><p>1.新建数据库</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">database</span> users;</span><br><span class="line">#提示：Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>2.切换到user数据库</p>
<figure class="highlight zephir"><table><tr><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">use</span> <span class="title">users</span>;</span><br><span class="line">#提示：Database changed</span><br></pre></td></tr></table></figure>
<p>3.新建数据表</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> user_info(</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> uname <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> upasswd <span class="type">varchar</span>(<span class="number">60</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">primary</span> <span class="keyword">key</span> (id)</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> )engine<span class="operator">=</span>InnoDB <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br><span class="line">#提示：Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p>这里新建一个表名为user_info的数据表其中字段分别为<br><code>id</code>:整型，自增，不允许为空。<br><code>uname</code>:字符数据类型，长度最大20，不允许为空。<br><code>upasswd</code>:字符数据类型，长度最大60，不允许为空。</p>
<p>另外<br><code>primary key (id)</code>:设置主键为id。<br><code>engine=InnoDB</code>设置数据库引擎为InnoDB。<br><code>default charset=utf8</code>:设置默认编码为utf8。<br>这些可以根据自己需求灵活调整。</p>
<h2 id="编辑register-html"><a href="#编辑register-html" class="headerlink" title="编辑register.html"></a>编辑register.html</h2><p>注册页面,附上所有的代码，包括难看的CSS、拉跨的JS，就不一一详解了。</p>
<figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml">h2&#123;</span></span><br><span class="line"><span class="xml">        text-align:center;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">ul li&#123;</span></span><br><span class="line"><span class="xml">        text-align:center;</span></span><br><span class="line"><span class="xml">        list-style:none;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">span&#123;</span></span><br><span class="line"><span class="xml">        display:inline-block;</span></span><br><span class="line"><span class="xml">        width:200px;</span></span><br><span class="line"><span class="xml">        text-align:right;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">.form&#123;</span></span><br><span class="line"><span class="xml">        text-align:center;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">.username,.password,.confirm_password&#123;</span></span><br><span class="line"><span class="xml">        border-radius:3px;</span></span><br><span class="line"><span class="xml">        padding:13px 14px;</span></span><br><span class="line"><span class="xml">        margin:5px;</span></span><br><span class="line"><span class="xml">        width:300px;</span></span><br><span class="line"><span class="xml">        font-size:14px;</span></span><br><span class="line"><span class="xml">        outline-style:none;</span></span><br><span class="line"><span class="xml">        border:1px solid #ccc;</span></span><br><span class="line"><span class="xml">        font-family: &quot;Microsoft soft&quot;;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">.username , .password , .confirm_password:focus&#123;</span></span><br><span class="line"><span class="xml">        border-color: #66afe9;</span></span><br><span class="line"><span class="xml">        outline: 0;</span></span><br><span class="line"><span class="xml">        -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);</span></span><br><span class="line"><span class="xml">	box-shadow: inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>用户注册<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span> <span class="attr">id</span>=<span class="string">&quot;form&quot;</span> <span class="attr">action</span>=<span class="string">&quot;register.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">autofocus</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">class</span>=<span class="string">&quot;username&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;20&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户名&quot;</span> <span class="attr">required</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;20&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;密码&quot;</span> <span class="attr">required</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;confirm_password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;confirm_password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;confirm_password&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;20&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;确认密码&quot;</span> <span class="attr">required</span> <span class="attr">onkeyup</span>=<span class="string">&quot;checkPassword()&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;pp&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;注册&quot;</span> <span class="attr">class</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清空&quot;</span> <span class="attr">class</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">id</span>=<span class="string">&quot;reset&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">                function checkPassword()&#123;</span></span><br><span class="line"><span class="xml">                        var password = document.getElementById(&quot;password&quot;).value;</span></span><br><span class="line"><span class="xml">                        var conPassword = document.getElementById(&quot;confirm_password&quot;).value;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">                        if(password == conPassword)&#123;</span></span><br><span class="line"><span class="xml">                                document.getElementById(&quot;submit&quot;).disabled = false;</span></span><br><span class="line"><span class="xml">                        &#125;</span></span><br><span class="line"><span class="xml">                        else&#123;</span></span><br><span class="line"><span class="xml">                                document.getElementById(&quot;submit&quot;).disabled = true;</span></span><br><span class="line"><span class="xml">                        &#125;</span></span><br><span class="line"><span class="xml">                &#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="编辑register-php"><a href="#编辑register-php" class="headerlink" title="编辑register.php"></a>编辑register.php</h2><p>接收上面的register.html的注册信息，并进行处理。</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$connect</span>=mysqli_connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;你的数据库密码&quot;</span>,<span class="string">&quot;users&quot;</span>);</span><br><span class="line">mysqli_set_charset(<span class="variable">$connect</span>,<span class="string">&quot;utf8&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$connect</span>)&#123;</span><br><span class="line">        <span class="variable">$uname</span>=<span class="variable">$_POST</span>[<span class="string">&quot;username&quot;</span>];</span><br><span class="line">        <span class="variable">$upassword</span>=<span class="variable">$_POST</span>[<span class="string">&quot;password&quot;</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对注册用户信息进行查询，看是否已经注册</span></span><br><span class="line">        <span class="variable">$select</span>=<span class="string">&quot;select uname from user_info where uname=&#x27;<span class="subst">$uname</span>&#x27;&quot;</span>;</span><br><span class="line">        <span class="variable">$result</span>=mysqli_query(<span class="variable">$connect</span>,<span class="variable">$select</span>);</span><br><span class="line">        <span class="variable">$num</span>=mysqli_num_rows(<span class="variable">$result</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$num</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;该用户已被注册！&#x27;);window.location.href=&#x27;register.html&#x27;;&lt;/script&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="variable">$hash</span>=password_hash(<span class="variable">$upassword</span>,PASSWORD_BCRYPT);<span class="comment">//将用户的密码进行加密，固定长度60</span></span><br><span class="line">                <span class="variable">$insert</span>=<span class="string">&quot;insert into user_info (uname,upasswd) values(&#x27;<span class="subst">$uname</span>&#x27;,&#x27;<span class="subst">$hash</span>&#x27;)&quot;</span>;</span><br><span class="line">                mysqli_query(<span class="variable">$connect</span>,<span class="variable">$insert</span>);</span><br><span class="line">		<span class="comment">//这里若是嫌弃60长度太长，可以进行对hash值进行MD5加密再插入，这里不作演示咯~~</span></span><br><span class="line"></span><br><span class="line">                <span class="variable">$select</span>=<span class="string">&quot;select uname from user_info where uname=&#x27;<span class="subst">$uname</span>&#x27;&quot;</span>;<span class="comment">//对插入的信息进行查询，是否成功</span></span><br><span class="line">                <span class="variable">$result</span>=mysqli_query(<span class="variable">$connect</span>,<span class="variable">$select</span>);</span><br><span class="line">                <span class="variable">$num</span>=mysqli_num_rows(<span class="variable">$result</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="variable">$num</span>)&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;注册成功！&#x27;);&lt;/script&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;发生一些未知问题，注册失败！&#x27;);window.location.href=&#x27;register.html&#x27;;&lt;/script&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;数据库不行了～～&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="编辑login-html"><a href="#编辑login-html" class="headerlink" title="编辑login.html"></a>编辑login.html</h2><p>登录页面，无CSS样式~~</p>
<figure class="highlight handlebars"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center&quot;</span>&gt;</span>用户登录<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;login.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">required</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户名&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">required</span> <span class="attr">placeholder</span>=<span class="string">&quot;密码&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="编辑login-php"><a href="#编辑login-php" class="headerlink" title="编辑login.php"></a>编辑login.php</h2><p>验证上面的登录页面</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$connect</span>=mysqli_connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;你的数据库密码&quot;</span>,<span class="string">&quot;users&quot;</span>);</span><br><span class="line">mysqli_set_charset(<span class="variable">$connect</span>,<span class="string">&quot;utf8&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$connect</span>)&#123;</span><br><span class="line"><span class="comment">//此处也一样，也可以对POST过来的数据进行非空验证，我也不写了~</span></span><br><span class="line"><span class="variable">$getName</span>=<span class="variable">$_POST</span>[<span class="string">&quot;name&quot;</span>];</span><br><span class="line"><span class="variable">$getPassword</span>=<span class="variable">$_POST</span>[<span class="string">&quot;password&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable">$select</span>=<span class="string">&quot;select uname,upasswd from user_info where uname=&#x27;<span class="subst">$getName</span>&#x27;&quot;</span>;</span><br><span class="line"><span class="variable">$result</span>=mysqli_query(<span class="variable">$connect</span>,<span class="variable">$select</span>);</span><br><span class="line"><span class="variable">$object</span>=mysqli_fetch_object(<span class="variable">$result</span>);</span><br><span class="line"><span class="variable">$hash</span>=<span class="variable">$object</span>-&gt;upasswd;</span><br><span class="line"></span><br><span class="line"><span class="comment">//因为数据库存储的是加密过的密码，是不可逆的，只能通过password_verify()方法进行验证</span></span><br><span class="line"><span class="comment">//这个方法有两个参数，参数1：用户的密码；参数2：一个由 password_hash() 创建的散列值。</span></span><br><span class="line"><span class="comment">//如果密码和散列值匹配则返回 TRUE，否则返回 FALSE。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(password_verify(<span class="variable">$getPassword</span>,<span class="variable">$hash</span>))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;登录成功！&#x27;);window.location.href=&#x27;welcom.html&#x27;;&lt;/script&gt;&quot;</span>;</span><br><span class="line"><span class="comment">//同样，登录成功过后的跳转，可以根据自己需求来写</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;密码错误！&#x27;);window.location.href=&#x27;login.html&#x27;;&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;链接数据库失败！&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>OK了，完成后将这些文件放在同一个文件夹中，例如<code>/var/www/html/</code>下即可，打开你的浏览器访问即可！</p>
]]></content>
  </entry>
  <entry>
    <title>LAMP环境搭建</title>
    <url>/.github.io/2021/02/10/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>LAMP即Linux、Apache、MySQL、PHP的简称，是一种常见的web服务环境。Linux用作后端操作系统(OS)；Apache是Web服务器；MySQL是数据库；PHP是脚本语言。下面将展示如何搭建这套环境。</p>
<h3 id="MySQL安装"><a href="#MySQL安装" class="headerlink" title="MySQL安装"></a>MySQL安装</h3><a id="more"></a>
<p>tips：这里Apache和MySQL推荐先安装，因为PHP与MySQL需要进行关联<br>1.执行安装命令</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># yum install mysql-server -y</span></span><br></pre></td></tr></table></figure>
<p>2.启动MySQL服务</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># systemctl start mysqld.service</span></span><br></pre></td></tr></table></figure>
<p>3.把MySQL添加到开机启动项</p>
<figure class="highlight golo"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># systemctl enable mysqld</span></span><br></pre></td></tr></table></figure>
<p>4.查看MySQL初始登录密码<br>(我发现有的时候安装有初始密码，有的没有，我也不知道。。)</p>
<figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">[root@dj~]# <span class="keyword">cat</span> /<span class="keyword">var</span>/<span class="keyword">log</span>/mysqld.<span class="keyword">log</span> | grep <span class="string">&quot;generated for root@localhost&quot;</span></span><br></pre></td></tr></table></figure>
<p>5.有初始密码的提示如下<br>其中******即你的密码</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">[root@dj~]# A <span class="keyword">temporary</span> <span class="keyword">password</span> <span class="keyword">is</span> <span class="keyword">generated</span> <span class="keyword">for</span> root@localhost: ******</span><br></pre></td></tr></table></figure>
<p>6.登录MySQL</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># mysql -uroot -p******</span></span><br></pre></td></tr></table></figure>
<p>以上方式存在泄漏密码的风险，推荐输入-p后直接回车，再次输入密码。此处密码不会显示。<br>7.登录MySQL修改初始密码</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">mysql&gt;  <span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;你想要的密码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>8.退出MySQL</p>
<figure class="highlight cos"><table><tr><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">quit</span></span><br></pre></td></tr></table></figure>
<h3 id="Apache安装"><a href="#Apache安装" class="headerlink" title="Apache安装"></a>Apache安装</h3><p>1.yum源安装</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># yum install httpd -y</span></span><br></pre></td></tr></table></figure>
<p>2.启动httpd服务(Apache进程服务名叫httpd)</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># systemctl start httpd.service</span></span><br></pre></td></tr></table></figure>
<p>3.加入到开机项</p>
<figure class="highlight golo"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># systemctl enable httpd</span></span><br></pre></td></tr></table></figure>
<p>4.修改Apache配置文件</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@dj~]# vim <span class="regexp">/etc/</span>httpd<span class="regexp">/conf/</span>httpd.conf</span><br></pre></td></tr></table></figure>
<p>5.找到 Options Indexes FollowSymLinks，把Indexes删掉，作用是禁止查看站点目录结构。<br>6.找到Listen 80，修改为Listen 8080(修改监听端口为8080，笔者这里的80端口给Nginx使用了，所以，不需要的可以忽略这一步)<br>7.找到DirectoryIndex index.html，在后面加上index.php。这样Apache才能识别php文件。<br>8.保存退出，重启httpd服务</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># systemctl restart httpd.service</span></span><br></pre></td></tr></table></figure>
<h3 id="PHP安装"><a href="#PHP安装" class="headerlink" title="PHP安装"></a>PHP安装</h3><p>tips：此处安装的版本为php7版本<br>1.安装gcc编译器</p>
<figure class="highlight golo"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># yum -y install gcc gcc-c++</span></span><br></pre></td></tr></table></figure>
<p>2.安装EPEL源</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span><span class="operator">~</span>]# yum install epel<span class="operator">-</span><span class="keyword">release</span> <span class="operator">-</span>y</span><br><span class="line">[root<span class="variable">@dj</span><span class="operator">~</span>]# yum install http:<span class="operator">/</span><span class="operator">/</span>rpms.remirepo.net<span class="operator">/</span>enterprise<span class="operator">/</span>remi<span class="operator">-</span><span class="keyword">release</span><span class="number">-7.</span>rpm <span class="comment">--skip-broken</span></span><br></pre></td></tr></table></figure>
<p>3.安装yum源管理工具</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># yum install yum-utils -y</span></span><br></pre></td></tr></table></figure>
<p>4.安装php及其模块</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># yum insatll php* -y</span></span><br></pre></td></tr></table></figure>
<p>5.启动php服务</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@dj</span>~]<span class="comment"># systemctl start php-fpm.service</span></span><br></pre></td></tr></table></figure>
<p>6.设置开机自启</p>
<figure class="highlight golo"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># systemctl enable php-fpm.service</span></span><br></pre></td></tr></table></figure>
<p>7.测试</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@dj~]# vim <span class="regexp">/var/</span>www<span class="regexp">/html/</span>test.php</span><br></pre></td></tr></table></figure>
<p>8.输入以下内容，保存退出</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">phpinfo();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>9.在浏览器地址栏输入localhost/test.php。或者”你的ip/test.php”，显示PHP信息则安装成功。<br>(第4步非常有必要，不然用于json的处理方法json_decode()和json_encode()会无效，都是坑啊)</p>
<h3 id="测试PHP连接MySQL"><a href="#测试PHP连接MySQL" class="headerlink" title="测试PHP连接MySQL"></a>测试PHP连接MySQL</h3><p>1.登录MySQL创建一个数据库，注意分号不能丢</p>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">database</span> testDB;</span><br></pre></td></tr></table></figure>
<p>2.退出MySQL，输入</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@dj~]# vim <span class="regexp">/var/</span>www<span class="regexp">/html/</span>php.php</span><br></pre></td></tr></table></figure>
<p>3.输入以下内容，保存退出</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$connect</span>=mysqli_connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;你的mysql密码&quot;</span>,<span class="string">&quot;testDB&quot;</span>);</span><br><span class="line">mysqli_set_charset(<span class="variable">$connect</span>,<span class="string">&quot;UTF-8&quot;</span>);        </span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$connect</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;ok&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;error&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>4.浏览器地址栏输入localhost/php.php，或者”你的ip/php.php”<br>输出OK则表示链接成功，否则失败</p>
]]></content>
  </entry>
  <entry>
    <title>Linux下Nginx安装</title>
    <url>/.github.io/2021/02/04/Linux%E4%B8%8BNginx%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本次安装使用的方式为编译安装</p>
<h3 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h3><p>1.进入到对应的安装目录，这里的安装目录按自己需求来，比如我的/usr/local/目录下</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">[root@dj~]#</span><span class="bash"> <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span></span><br></pre></td></tr></table></figure>
<p>2.下载nginx包(有外网的情况下)，具体版本可以去nginx官网<a href="http://nginx.org/download/">下载</a></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-attr">[root@dj local]</span># <span class="selector-tag">wget</span> <span class="selector-tag">http</span>://<span class="selector-tag">nginx</span><span class="selector-class">.org</span>/<span class="selector-tag">download</span>/<span class="selector-tag">nginx-1</span>.19.6<span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>3.解压缩</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@dj</span> <span class="keyword">local</span>]<span class="meta"># tar -zxvf nginx-1.19.6.tar.gz</span></span><br></pre></td></tr></table></figure>
<p>4.进入到解压后的目录</p>
<figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@dj</span> <span class="keyword">local</span>]<span class="meta"># cd /nginx-1.19.6/</span></span><br></pre></td></tr></table></figure>
<p>5.依次输入以下命令</p>
<figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span> nginx-1.19.6]<span class="comment"># ./configure</span></span><br><span class="line">[root<span class="meta">@dj</span> nginx-1.19.6]<span class="comment"># make</span></span><br><span class="line">[root<span class="meta">@dj</span> nginx-1.19.6]<span class="comment"># make install</span></span><br></pre></td></tr></table></figure>
<p>6.编译安装完成后启动nginx</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@dj nginx-<span class="number">1.19</span>.<span class="number">6</span>]# <span class="regexp">/usr/</span>local<span class="regexp">/nginx/</span>sbin/nginx</span><br></pre></td></tr></table></figure>
<p>7.停止nginx服务</p>
<figure class="highlight julia"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@dj</span>~]<span class="comment"># killall nginx</span></span><br></pre></td></tr></table></figure>
<h3 id="编辑主配置文件"><a href="#编辑主配置文件" class="headerlink" title="编辑主配置文件"></a>编辑主配置文件</h3><p>1.vim 打开配置文件</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">[root@dj~]# vim <span class="regexp">/usr/</span>local<span class="regexp">/nginx/</span>conf/nginx.conf</span><br></pre></td></tr></table></figure>
<p>2.修改部分</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">listen:		<span class="number">80</span>	<span class="comment">#监听端口，默认值，按需修改</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">location</span> <span class="title">~ \.php</span>$ &#123;</span><br><span class="line">    proxy_pass   http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">8080</span>;</span><br><span class="line">&#125;			<span class="comment">#开启nginx反向解析，php文件将由监听8080端口服务器处理</span></span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/.github.io/2021/02/04/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>welcome</title>
    <url>/.github.io/2021/02/01/welcome/</url>
    <content><![CDATA[<p><img src="https://yourk.top/images/ykx.jpg" alt="夜空下"><br>welcome!</p>
]]></content>
  </entry>
</search>
